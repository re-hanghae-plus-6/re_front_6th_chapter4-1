# Vanilla JavaScript 쇼핑몰 과제 요구사항

## 프로젝트 개요

바닐라 자바스크립트를 사용하여 구축된 완전한 쇼핑몰 애플리케이션입니다. 이 프로젝트는 **Redux-style 상태관리**, **CSR/SSR/SSG 렌더링 방식**, **SPA 라우팅**, **모킹을 통한 API 연동** 등을 포함한 현대적인 프론트엔드 개발 패턴을 바닐라 JS로 구현합니다.

## 기술적 아키텍처

### 상태 관리

- **Redux-style Store 패턴**: `createStore`를 통한 중앙 집중식 상태 관리
- **Observer 패턴**: 상태 변경 시 자동 UI 업데이트
- **Store 구조**:
  - `productStore`: 상품 목록, 상세, 관련 상품, 카테고리 관리
  - `cartStore`: 장바구니 아이템, 선택 상태, 총량 관리
  - `uiStore`: 모달, 토스트, 로딩 상태 등 UI 상태 관리

### 라우팅 시스템

- **SPA 라우터**: 바닐라 JS로 구현된 클라이언트사이드 라우팅
- **SSR/CSR 하이브리드**: 초기 페이지는 SSR, 이후 네비게이션은 CSR
- **라이프사이클 관리**: `withLifecycle` HOC를 통한 컴포넌트 생명주기 관리
- **라우트 구조**:
  - `/`: 홈페이지 (상품 목록)
  - `/products/:id/`: 상품 상세 페이지

### 렌더링 전략

- **CSR (Client-Side Rendering)**: 기본 클라이언트 렌더링
- **SSR (Server-Side Rendering)**: Express.js를 통한 서버 렌더링
- **SSG (Static Site Generation)**: 정적 사이트 생성
- **하이드레이션**: 서버에서 전달받은 초기 데이터를 클라이언트에서 활용

## 핵심 기능 요구사항

### 1. 상품 목록 페이지

#### 1.1 상품 목록 로딩 및 표시

- [x] 페이지 접속 시 로딩 상태 표시
- [x] 상품 데이터 로드 완료 후 목록 렌더링
- [x] 각 상품의 기본 정보 카드 형태 표시 (이미지, 상품명, 가격, 브랜드)
- [x] 총 상품 개수 표시

#### 1.2 페이지네이션

- [x] 페이지당 상품 수 선택: 10, 20, 50, 100개 (기본값: 20개)
- [x] 무한 스크롤 방식 페이지네이션 구현
- [x] 하단 스크롤 시 추가 상품 자동 로드

#### 1.3 정렬 기능

- [x] 가격순 정렬 (낮은순/높은순)
- [x] 상품명순 정렬 (오름차순/내림차순)
- [x] 최신순 정렬 (기본값)
- [x] 정렬 변경 시 즉시 목록 업데이트

#### 1.4 검색 기능

- [x] 상품명 기반 텍스트 검색
- [x] Enter 키를 통한 검색 실행
- [x] 검색어와 일치하는 상품만 필터링하여 표시

#### 1.5 카테고리 필터링

- [x] 1차/2차 카테고리별 필터링
- [x] 브레드크럼을 통한 카테고리 네비게이션
- [x] 카테고리 선택 시 해당 카테고리 상품만 표시

### 2. 상품 상세 페이지

#### 2.1 상품 정보 표시

- [x] 상품 이미지, 제목, 브랜드, 가격 표시
- [x] 평점 및 리뷰 수 표시 (별점 UI)
- [x] 재고 수량 표시
- [x] 상품 설명 표시

#### 2.2 수량 선택 및 장바구니 추가

- [x] 수량 증가/감소 버튼
- [x] 직접 수량 입력 (1 ~ 재고 수량)
- [x] 장바구니 담기 버튼
- [x] 장바구니 추가 성공 토스트 메시지

#### 2.3 네비게이션

- [x] 뒤로 가기 버튼
- [x] 브레드크럼 네비게이션 (홈 > 카테고리1 > 카테고리2)
- [x] 상품 목록으로 돌아가기 버튼

#### 2.4 관련 상품

- [x] 같은 카테고리의 다른 상품들 표시 (최대 20개)
- [x] 관련 상품 클릭 시 해당 상품 상세 페이지로 이동

### 3. 장바구니 기능

#### 3.1 장바구니 모달 UI

- [x] 헤더의 장바구니 아이콘 클릭 시 모달 형태로 열기
- [x] X 버튼, 배경 클릭, ESC 키로 모달 닫기
- [x] 장바구니 아이템 수량 배지 표시

#### 3.2 장바구니 아이템 관리

- [x] 각 아이템의 이미지, 이름, 가격, 수량 표시
- [x] 수량 증가/감소 버튼으로 개별 아이템 수량 조절
- [x] 수량 변경 시 총 금액 실시간 업데이트
- [x] 개별 아이템 삭제 기능

#### 3.3 선택 삭제 기능

- [x] 각 아이템별 선택 체크박스
- [x] 전체 선택/해제 마스터 체크박스
- [x] 선택된 아이템들만 일괄 삭제
- [x] 선택된 아이템 수량 및 금액 표시

#### 3.4 장바구니 관리

- [x] 전체 비우기 기능
- [x] 총 금액 계산 및 표시
- [x] 구매하기 버튼 (기능 구현은 선택사항)
- [x] 빈 장바구니 상태 UI

#### 3.5 장바구니 상태 지속성

- [x] localStorage를 통한 장바구니 데이터 저장
- [x] 페이지 새로고침 후에도 장바구니 상태 유지

## 기술적 구현 요구사항

### 아키텍처 패턴

- [x] **컴포넌트 기반 개발**: 재사용 가능한 UI 컴포넌트 모듈화
- [x] **상태 관리**: Redux-style 패턴으로 중앙 집중식 상태 관리
- [x] **이벤트 시스템**: 커스텀 이벤트를 통한 컴포넌트 간 통신
- [x] **라이프사이클 관리**: 컴포넌트 마운트/언마운트 시점 제어

### 성능 최적화

- [x] **이미지 레이지 로딩**: loading="lazy" 속성 적용
- [x] **무한 스크롤**: 대용량 데이터 효율적 로딩
- [x] **배치 업데이트**: withBatch를 통한 DOM 조작 최적화
- [x] **메모리 관리**: 이벤트 리스너 정리 및 메모리 누수 방지

### 반응형 디자인

- [x] **모바일 퍼스트**: 모바일 우선 반응형 디자인
- [x] **Tailwind CSS**: 유틸리티 퍼스트 CSS 프레임워크 활용
- [x] **그리드 레이아웃**: 반응형 상품 그리드 (2열/3열/4열)

### 테스팅

- [x] **Unit Testing**: Vitest를 사용한 단위 테스트
- [x] **DOM Testing**: @testing-library/dom을 통한 DOM 테스트
- [x] **Mock API**: MSW(Mock Service Worker)를 통한 API 모킹
- [x] **테스트 커버리지**: 핵심 기능에 대한 포괄적 테스트

### 개발 도구

- [x] **Vite**: 빠른 개발 서버 및 빌드 도구
- [x] **ESLint + Prettier**: 코드 품질 및 포매팅
- [x] **Husky**: Git hooks를 통한 pre-commit 검사

## API 명세

### 상품 API

- `GET /products`: 상품 목록 조회
  - Query Parameters: `search`, `category1`, `category2`, `sort`, `limit`, `page`
- `GET /products/:id`: 상품 상세 조회
- `GET /categories`: 카테고리 목록 조회

### 모킹 데이터

- [x] MSW를 통한 실제 API 모킹
- [x] 상품 데이터: 340개 상품 데이터 (items.json)
- [x] 카테고리 구조: 생활/건강, 디지털/가전, 스포츠/레저 등

## 추가 구현 사항

### SEO 최적화

- [x] **메타 태그**: 적절한 title, description, og 태그
- [x] **SSR/SSG**: 검색 엔진 최적화를 위한 서버사이드 렌더링
- [x] **시맨틱 HTML**: 의미있는 HTML 태그 사용

### 접근성 (A11y)

- [x] **키보드 네비게이션**: Tab, Enter, ESC 키 지원
- [x] **ARIA 레이블**: 스크린 리더를 위한 접근성 레이블
- [x] **포커스 관리**: 모달 열림/닫힘 시 포커스 관리

### 사용자 경험 (UX)

- [x] **로딩 상태**: 스켈레톤 UI 및 로딩 인디케이터
- [x] **에러 처리**: 네트워크 오류 시 사용자 친화적 메시지
- [x] **토스트 메시지**: 사용자 액션에 대한 피드백

## 프로젝트 구조

```
packages/vanilla/
├── src/
│   ├── components/          # 재사용 가능한 UI 컴포넌트
│   ├── pages/              # 페이지 컴포넌트
│   ├── stores/             # Redux-style 스토어들
│   ├── services/           # 비즈니스 로직 및 API 호출
│   ├── lib/                # 유틸리티 라이브러리 (Router, Store 등)
│   ├── router/             # 라우팅 관련 로직
│   ├── utils/              # 헬퍼 유틸리티 함수들
│   ├── mocks/              # MSW 모킹 설정
│   └── __tests__/          # 테스트 파일들
├── public/                 # 정적 파일들
├── dist/                   # 빌드 결과물
└── package.json
```

## 실행 및 빌드 명령어

- `pnpm run dev`: 개발 서버 실행 (CSR)
- `pnpm run dev:ssr`: SSR 개발 서버 실행
- `pnpm run build`: 프로덕션 빌드 (CSR + SSR + SSG)
- `pnpm run test`: 테스트 실행
- `pnpm run lint:fix`: ESLint 및 Prettier 자동 수정

이 프로젝트는 바닐라 자바스크립트의 한계를 뛰어넘어 현대적인 프론트엔드 개발 패턴을 모두 구현한 완전한 쇼핑몰 애플리케이션입니다.
