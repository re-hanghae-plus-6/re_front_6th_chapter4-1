# ê¸°ë³¸ê³¼ì œ: Vanilla JavaScript SSR & SSG

## ğŸ¯ ê³¼ì œ ê°œìš”
Vanilla JavaScript í”„ë¡œì íŠ¸ì—ì„œ **Server Side Rendering(SSR)**ê³¼ **Static Site Generation(SSG)**ì„ êµ¬í˜„í•˜ì—¬, ê¸°ì¡´ CSR ë°©ì‹ì—ì„œ ë°œìƒí•˜ëŠ” ì´ˆê¸° ë¡œë”© ì§€ì—°ê³¼ SEO ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤.

## ğŸ“‹ êµ¬í˜„í•´ì•¼ í•  ê¸°ëŠ¥

### 1. SSR (Server Side Rendering)
- Express ì„œë²„ë¥¼ í†µí•œ ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§
- URLë³„ ë¼ìš°íŒ… ë° ë§¤ê°œë³€ìˆ˜ ì¶”ì¶œ
- ì„œë²„ì—ì„œ ë°ì´í„° í”„ë¦¬í˜ì¹­
- ì´ˆê¸° ë°ì´í„° Hydration

### 2. SSG (Static Site Generation)
- ë¹Œë“œ íƒ€ì„ì— ì •ì  HTML íŒŒì¼ ìƒì„±
- ë™ì  ë¼ìš°íŠ¸ (ìƒí’ˆ ìƒì„¸ í˜ì´ì§€) ì²˜ë¦¬
- SEO ìµœì í™”ëœ ë©”íƒ€ íƒœê·¸ ìƒì„±

## ğŸ“ êµ¬í˜„í•´ì•¼ í•  íŒŒì¼ êµ¬ì¡°

```
packages/vanilla/
â”œâ”€â”€ server.js                 # Express SSR ì„œë²„
â”œâ”€â”€ static-site-generate.js   # SSG ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main-server.js       # ì„œë²„ ë Œë”ë§ ë¡œì§
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ Router.js        # ì„œë²„ìš© ë¼ìš°í„° í™•ì¥
â”‚   â””â”€â”€ pages/
â”‚       â”œâ”€â”€ HomePage.js
â”‚       â”œâ”€â”€ ProductDetailPage.js
â”‚       â””â”€â”€ NotFoundPage.js
â””â”€â”€ package.json             # ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
```

## ğŸ”§ 1ë‹¨ê³„: Express SSR ì„œë²„ êµ¬ì¶•

### `server.js` êµ¬í˜„
```javascript
import fs from "node:fs/promises";
import express from "express";

// Constants
const prod = process.env.NODE_ENV === "production";
const port = process.env.PORT || 5173;
const base = process.env.BASE || (prod ? "/front_6th_chapter4-1/vanilla/" : "/");

// Cached production assets
const templateHtml = prod ? await fs.readFile("../../dist/vanilla/index.html", "utf-8") : "";
const app = express();

// Add Vite or respective production middlewares
let vite;
if (!prod) {
  // TODO: Vite ê°œë°œ ì„œë²„ ì„¤ì •
  // íŒíŠ¸: createServerë¡œ ë¯¸ë“¤ì›¨ì–´ ëª¨ë“œ ì„¤ì •, middlewares ì‚¬ìš©
} else {
  // TODO: í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •
  // íŒíŠ¸: compression, sirv ì‚¬ìš©í•˜ì—¬ ì •ì  íŒŒì¼ ì„œë¹™
}

// Root redirect for convenience
if (prod && base !== "/") {
  // TODO: ë£¨íŠ¸ ê²½ë¡œì—ì„œ base URLë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ êµ¬í˜„
}

// Serve HTML
app.use("*", async (req, res) => {
  try {
    console.log("ğŸ” Request URL:", req.originalUrl);
    const url = req.originalUrl.replace(base, "");

    let template;
    let render;
    if (!prod) {
      // TODO: ê°œë°œ í™˜ê²½ì—ì„œ í…œí”Œë¦¿ ì½ê¸° ë° SSR ëª¨ë“ˆ ë¡œë“œ
      // íŒíŠ¸: 
      // 1. index.html ì½ê¸°
      // 2. vite.transformIndexHtml ì‚¬ìš©
      // 3. vite.ssrLoadModuleë¡œ main-server.js ë¡œë“œ
    } else {
      // TODO: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ìºì‹œëœ í…œí”Œë¦¿ ë° ë¹Œë“œëœ SSR ëª¨ë“ˆ ì‚¬ìš©
      // íŒíŠ¸: templateHtml ì‚¬ìš©, importë¡œ ë¹Œë“œëœ ëª¨ë“ˆ ë¡œë“œ
    }

    // TODO: render í•¨ìˆ˜ í˜¸ì¶œí•˜ì—¬ í˜ì´ì§€ ë Œë”ë§
    const rendered = await render(url);

    // TODO: ì„œë²„ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•œ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
    // íŒíŠ¸: window.__INITIAL_DATA__ì— initialData í• ë‹¹í•˜ëŠ” script íƒœê·¸ ìƒì„±

    // TODO: í…œí”Œë¦¿ì— ë Œë”ë§ ê²°ê³¼ ì‚½ì…
    // íŒíŠ¸: 
    // 1. <!--app-head--> â†’ rendered.head
    // 2. <!--app-html--> â†’ rendered.html  
    // 3. </head> â†’ initialDataScript + </head>

    res.status(200).set({ "Content-Type": "text/html" }).send(html);
  } catch (e) {
    vite?.ssrFixStacktrace(e);
    console.log(e.stack);
    res.status(500).end(e.stack);
  }
});

// Start http server
app.listen(port, () => {
  console.log(`Server started at http://localhost:${port}`);
});
```

**êµ¬í˜„ ì²´í¬í¬ì¸íŠ¸:**
- [ ] ê°œë°œ/í”„ë¡œë•ì…˜ í™˜ê²½ì— ë”°ë¥¸ ë¯¸ë“¤ì›¨ì–´ ì„¤ì •
- [ ] SSR ëª¨ë“ˆ ë™ì  ë¡œë“œ
- [ ] í…œí”Œë¦¿ ì¹˜í™˜ ë¡œì§
- [ ] ì´ˆê¸° ë°ì´í„° ì£¼ì… ìŠ¤í¬ë¦½íŠ¸ ìƒì„±

## ğŸ”§ 2ë‹¨ê³„: ì„œë²„ ë Œë”ë§ ë¡œì§ êµ¬í˜„

### `src/main-server.js` êµ¬í˜„
```javascript
import { Router } from "./lib/Router.js";
import { HomePage, NotFoundPage, ProductDetailPage } from "./pages/index.js";
import { BASE_URL } from "./constants.js";
import { mockGetProducts, mockGetCategories, mockGetProduct } from "./mocks/server.js";
import { productStore, PRODUCT_ACTIONS, initialProductState } from "./stores/index.js";

class ServerRouter {
  constructor(baseUrl = "") {
    this.routes = new Map();
    this.baseUrl = baseUrl.replace(/\/$/, "");
    this.initRoutes();
  }

  initRoutes() {
    // TODO: ë¼ìš°íŠ¸ ë“±ë¡
    // íŒíŠ¸: addRoute ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê²½ë¡œì™€ í•¸ë“¤ëŸ¬ ë“±ë¡
    // - "/" â†’ HomePage
    // - "/product/:id/" â†’ ProductDetailPage  
    // - "/.*" â†’ NotFoundPage (404 ì²˜ë¦¬)
  }

  addRoute(path, handler) {
    // TODO: ë¼ìš°íŠ¸ íŒ¨í„´ì„ ì •ê·œì‹ìœ¼ë¡œ ë³€í™˜
    // íŒíŠ¸:
    // 1. :id ê°™ì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì •ê·œì‹ ê·¸ë£¹ìœ¼ë¡œ ë³€í™˜
    // 2. paramNames ë°°ì—´ì— ë§¤ê°œë³€ìˆ˜ ì´ë¦„ ì €ì¥
    // 3. ì •ê·œì‹ ê°ì²´ ìƒì„±í•˜ì—¬ routes Mapì— ì €ì¥
  }

  findRoute(url) {
    // TODO: URLì— ë§¤ì¹­ë˜ëŠ” ë¼ìš°íŠ¸ ì°¾ê¸°
    // íŒíŠ¸:
    // 1. URLì—ì„œ pathname ì¶”ì¶œ
    // 2. baseUrl ì œê±°
    // 3. ë“±ë¡ëœ ë¼ìš°íŠ¸ë“¤ê³¼ ë§¤ì¹­ ì‹œë„
    // 4. ë§¤ê°œë³€ìˆ˜ ì¶”ì¶œí•˜ì—¬ params ê°ì²´ ìƒì„±
    // 5. ë§¤ì¹­ë˜ëŠ” ë¼ìš°íŠ¸ ë°˜í™˜, ì—†ìœ¼ë©´ null
  }
}

async function prefetchData(route, query, params) {
  try {
    if (route.path === "/") {
      // TODO: í™ˆí˜ì´ì§€ ë°ì´í„° í”„ë¦¬í˜ì¹­
      // íŒíŠ¸:
      // 1. mockGetProductsë¡œ ìƒí’ˆ ëª©ë¡ ì¡°íšŒ
      // 2. mockGetCategoriesë¡œ ì¹´í…Œê³ ë¦¬ ì¡°íšŒ
      // 3. productStoreì— ë°ì´í„° ì„¤ì •
      // 4. í•„ìš”í•œ ë°ì´í„° ë°˜í™˜
      
    } else if (route.path === "/product/:id/") {
      // TODO: ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ ë°ì´í„° í”„ë¦¬í˜ì¹­
      // íŒíŠ¸:
      // 1. params.idë¡œ ìƒí’ˆ ID ì¶”ì¶œ
      // 2. mockGetProductë¡œ ìƒí’ˆ ìƒì„¸ ì •ë³´ ì¡°íšŒ
      // 3. productStoreì— currentProduct ì„¤ì •
      // 4. ê´€ë ¨ ìƒí’ˆì´ ìˆë‹¤ë©´ ì¶”ê°€ ë¡œë“œ
      // 5. í•„ìš”í•œ ë°ì´í„° ë°˜í™˜
    }
    return null;
  } catch (error) {
    console.error("ë°ì´í„° í”„ë¦¬í˜ì¹­ ì˜¤ë¥˜:", error);
    return null;
  }
}

export async function render(url) {
  try {
    // TODO: Store ì´ˆê¸°í™”
    // íŒíŠ¸: productStore.dispatchë¡œ ì´ˆê¸° ìƒíƒœ ì„¤ì •

    // TODO: ServerRouter ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ë¼ìš°íŠ¸ ì°¾ê¸°
    // íŒíŠ¸: ê°œë°œ/í”„ë¡œë•ì…˜ í™˜ê²½ì— ë”°ë¥¸ baseUrl ì„¤ì •

    console.log("Requested URL:", url);
    console.log("Found route:", route);

    if (!route) {
      // TODO: 404 ì‘ë‹µ ë°˜í™˜
      // íŒíŠ¸: NotFoundPage() í˜¸ì¶œí•˜ì—¬ html ìƒì„±
    }

    // TODO: URLì—ì„œ query, params ì¶”ì¶œ
    // íŒíŠ¸: Router.parseQuery ì‚¬ìš©, route.params ì‚¬ìš©

    // TODO: ê¸€ë¡œë²Œ ë¼ìš°í„° ì •ë³´ ì„¤ì •
    // íŒíŠ¸: global.router ê°ì²´ì— query, params, baseUrl ì„¤ì •

    // TODO: ì„œë²„ì—ì„œ ë°ì´í„° ë¯¸ë¦¬ ë¡œë“œ
    const initialData = await prefetchData(route, query, params);

    // TODO: í˜ì´ì§€ë³„ HTML ë° ë©”íƒ€ ì •ë³´ ìƒì„±
    // íŒíŠ¸:
    // 1. route.pathì— ë”°ë¼ ì ì ˆí•œ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ í˜¸ì¶œ
    // 2. í˜ì´ì§€ë³„ title ì„¤ì •
    // 3. initialDataì™€ í•¨ê»˜ ë°˜í™˜

    let pageHtml;
    let pageTitle = "ì‡¼í•‘ëª°";

    // TODO: ë¼ìš°íŠ¸ë³„ í˜ì´ì§€ ë Œë”ë§ ë¡œì§ êµ¬í˜„

    return {
      html: pageHtml,
      head: `<title>${pageTitle}</title>`,
      initialData,
    };
  } catch (error) {
    console.error("SSR Error:", error);
    return {
      html: "<div>ì„œë²„ ë Œë”ë§ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</div>",
      head: "<title>ì˜¤ë¥˜ - ì‡¼í•‘ëª°</title>",
      initialData: null,
    };
  }
}
```

**êµ¬í˜„ ì²´í¬í¬ì¸íŠ¸:**
- [ ] URL íŒ¨í„´ ë§¤ì¹­ ì •ê·œì‹ ìƒì„±
- [ ] ë¼ìš°íŠ¸ ë§¤ê°œë³€ìˆ˜ ì¶”ì¶œ
- [ ] í˜ì´ì§€ë³„ ë°ì´í„° í”„ë¦¬í˜ì¹­
- [ ] ìƒíƒœê´€ë¦¬ ì„œë²„ ì´ˆê¸°í™”
- [ ] ë™ì  ë©”íƒ€ íƒœê·¸ ìƒì„±

## ğŸ”§ 3ë‹¨ê³„: SSG êµ¬í˜„

### `static-site-generate.js` êµ¬í˜„
```javascript
import fs from "node:fs/promises";
import path from "node:path";
import { fileURLToPath } from "node:url";

const __dirname = path.dirname(fileURLToPath(import.meta.url));

// NODE_ENVì„ developmentë¡œ ì„¤ì • (BASE_URLì„ ë¹ˆ ë¬¸ìì—´ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´)
process.env.NODE_ENV = "development";

const DIST_DIR = path.resolve(__dirname, "../../dist/vanilla");
const SSR_DIR = path.resolve(__dirname, "./dist/vanilla-ssr");

async function generateStaticSite() {
  console.log("ğŸš€ Static Site Generation ì‹œì‘...");

  try {
    // TODO: 1. í…œí”Œë¦¿ HTML ë¡œë“œ
    // íŒíŠ¸: DIST_DIRì˜ index.html ì½ê¸°

    // TODO: 2. SSR ë Œë” í•¨ìˆ˜ ë¡œë“œ  
    // íŒíŠ¸: 
    // 1. SSR_DIRì˜ main-server.js ê²½ë¡œ ìƒì„±
    // 2. import()ë¡œ ë™ì  ë¡œë“œ
    // 3. render í•¨ìˆ˜ ì¡´ì¬ í™•ì¸

    console.log("âš™ï¸ SSR ëª¨ë“ˆ ë¡œë“œ ì™„ë£Œ");

    // TODO: 3. ìƒì„±í•  í˜ì´ì§€ ëª©ë¡ ì •ì˜
    const pagesToGenerate = await getPages();
    console.log(`ğŸ“ ìƒì„±í•  í˜ì´ì§€ ìˆ˜: ${pagesToGenerate.length}`);

    // TODO: 4. ê° í˜ì´ì§€ë³„ë¡œ HTML ìƒì„±
    for (const page of pagesToGenerate) {
      console.log(`ğŸ“„ ìƒì„± ì¤‘: ${page.url}`);

      try {
        // TODO: render í•¨ìˆ˜ë¡œ í˜ì´ì§€ ë Œë”ë§

        // TODO: ì„œë²„ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•œ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
        // íŒíŠ¸: rendered.initialDataê°€ ìˆìœ¼ë©´ window.__INITIAL_DATA__ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±

        // TODO: í…œí”Œë¦¿ì— ë Œë”ë§ ê²°ê³¼ ì‚½ì…
        // íŒíŠ¸: server.jsì™€ ë™ì¼í•œ ì¹˜í™˜ ë¡œì§

        // TODO: HTML íŒŒì¼ ì €ì¥
        await saveHtmlFile(page.filePath, html);
        console.log(`âœ… ìƒì„± ì™„ë£Œ: ${page.filePath}`);
      } catch (error) {
        console.error(`âŒ ${page.url} ìƒì„± ì‹¤íŒ¨:`, error.message);
      }
    }

    console.log("ğŸ‰ Static Site Generation ì™„ë£Œ!");
  } catch (error) {
    console.error("ğŸ’¥ SSG ì‹¤íŒ¨:", error);
    process.exit(1);
  }
}

async function getPages() {
  const pages = [];

  // TODO: í™ˆí˜ì´ì§€ ì¶”ê°€
  // íŒíŠ¸: url: "/", filePath: DIST_DIR/index.html

  // TODO: 404 í˜ì´ì§€ ì¶”ê°€  
  // íŒíŠ¸: url: "/404", filePath: DIST_DIR/404.html

  // TODO: ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ë“¤ ì¶”ê°€
  try {
    // íŒíŠ¸:
    // 1. ./src/mocks/server.jsì—ì„œ mockGetProducts import
    // 2. ìƒí’ˆ ëª©ë¡ ì¡°íšŒ (limit: 20)
    // 3. ê° ìƒí’ˆë³„ë¡œ pages ë°°ì—´ì— ì¶”ê°€
    // 4. url: `/product/${productId}/`, filePath: DIST_DIR/product/productId/index.html

    console.log(`ğŸ›ï¸ ìƒí’ˆ í˜ì´ì§€ ${productsData.products.length}ê°œ ì¶”ê°€ë¨`);
  } catch (error) {
    console.error("ìƒí’ˆ ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨:", error);
  }

  return pages;
}

async function saveHtmlFile(filePath, html) {
  // TODO: ë””ë ‰í† ë¦¬ ìƒì„± ë° HTML íŒŒì¼ ì €ì¥
  // íŒíŠ¸:
  // 1. path.dirname(filePath)ë¡œ ë””ë ‰í† ë¦¬ ê²½ë¡œ ì¶”ì¶œ
  // 2. fs.mkdirë¡œ ë””ë ‰í† ë¦¬ ìƒì„± (recursive: true)
  // 3. fs.writeFileë¡œ HTML íŒŒì¼ ì €ì¥
}

// ì‹¤í–‰
generateStaticSite().catch(console.error);
```

**êµ¬í˜„ ì²´í¬í¬ì¸íŠ¸:**
- [ ] ë¹Œë“œëœ SSR ëª¨ë“ˆ ë™ì  ë¡œë“œ
- [ ] í˜ì´ì§€ ëª©ë¡ ë™ì  ìƒì„±
- [ ] ìƒí’ˆ ë°ì´í„° ê¸°ë°˜ ë™ì  ë¼ìš°íŠ¸ ìƒì„±
- [ ] ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± ë° íŒŒì¼ ì €ì¥

## ğŸ”§ 4ë‹¨ê³„: ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •

### `package.json` ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
```json
{
  "scripts": {
    "dev": "vite",
    "dev:ssr": "node server.js",
    "build:client": "vite build --outDir ../../dist/vanilla && cp ../../dist/vanilla/index.html ../../dist/vanilla/404.html",
    "build:server": "vite build --outDir ./dist/vanilla-ssr --ssr src/main-server.js",
    "build:ssg": "node static-site-generate.js",
    "build": "pnpm run build:client && pnpm run build:server && pnpm run build:ssg",
    "preview:ssr": "NODE_ENV=production node server.js",
    "preview:ssg": "vite preview --outDir ../../dist/vanilla"
  },
  "dependencies": {
    "compression": "^1.8.1",
    "express": "^5.1.0",
    "sirv": "^3.0.1"
  }
}
```

## ğŸ”§ 5ë‹¨ê³„: í´ë¼ì´ì–¸íŠ¸ Hydration ì²˜ë¦¬

### `src/main.js` ìˆ˜ì •
```javascript
import { render } from "./render.js";
import { productStore, PRODUCT_ACTIONS, initialProductState } from "./stores/index.js";

// TODO: ì„œë²„ì—ì„œ ì „ë‹¬ëœ ì´ˆê¸° ë°ì´í„° ì‚¬ìš©
// íŒíŠ¸:
// 1. window.__INITIAL_DATA__ í™•ì¸
// 2. ë°ì´í„°ê°€ ìˆìœ¼ë©´ ì ì ˆí•œ ì•¡ì…˜ìœ¼ë¡œ storeì— dispatch
// 3. í™ˆí˜ì´ì§€ ë°ì´í„°: PRODUCT_ACTIONS.SETUP
// 4. ìƒí’ˆ ìƒì„¸ ë°ì´í„°: PRODUCT_ACTIONS.SET_CURRENT_PRODUCT
// 5. ì‚¬ìš© ì™„ë£Œ í›„ window.__INITIAL_DATA__ ì‚­ì œ

// í´ë¼ì´ì–¸íŠ¸ ë Œë”ë§ ì‹œì‘
render();
```

**êµ¬í˜„ ì²´í¬í¬ì¸íŠ¸:**
- [ ] ì„œë²„ ë°ì´í„° ì¡´ì¬ ì—¬ë¶€ í™•ì¸
- [ ] í˜ì´ì§€ íƒ€ì…ë³„ ë°ì´í„° ë³µì›
- [ ] ìƒíƒœê´€ë¦¬ ìŠ¤í† ì–´ ì´ˆê¸°í™”
- [ ] ë©”ëª¨ë¦¬ ì •ë¦¬

## âœ… êµ¬í˜„ ê°€ì´ë“œë¼ì¸

### ğŸ¯ í•µì‹¬ êµ¬í˜„ í¬ì¸íŠ¸

**1. ì„œë²„ ë¼ìš°í„° (ServerRouter)**
- ì •ê·œì‹ ê¸°ë°˜ URL íŒ¨í„´ ë§¤ì¹­
- ë™ì  ë§¤ê°œë³€ìˆ˜ ì¶”ì¶œ (:id â†’ ì‹¤ì œ ê°’)
- ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ë¼ìš°íŠ¸ ë§¤ì¹­

**2. ë°ì´í„° í”„ë¦¬í˜ì¹­ (prefetchData)**
- í˜ì´ì§€ë³„ í•„ìš”í•œ ë°ì´í„° ë¯¸ë¦¬ ë¡œë“œ
- ì„œë²„ ìƒíƒœê´€ë¦¬ì— ë°ì´í„° ì„¤ì •
- í´ë¼ì´ì–¸íŠ¸ì— ì „ë‹¬í•  ë°ì´í„° êµ¬ì¡°í™”

**3. ì •ì  ì‚¬ì´íŠ¸ ìƒì„± (SSG)**
- ë¹Œë“œëœ SSR ëª¨ë“ˆ í™œìš©
- ë™ì  ë¼ìš°íŠ¸ ëª©ë¡ ìƒì„±
- íŒŒì¼ ì‹œìŠ¤í…œ ì¡°ì‘

### ğŸ” ë””ë²„ê¹… íŒíŠ¸

**ì„œë²„ ë¼ìš°íŒ… ë¬¸ì œ:**
- console.logë¡œ URL ë§¤ì¹­ ê³¼ì • ì¶”ì 
- ì •ê·œì‹ íŒ¨í„´ í…ŒìŠ¤íŠ¸: `regex.test(pathname)`
- ë§¤ê°œë³€ìˆ˜ ì¶”ì¶œ ê²°ê³¼ í™•ì¸

**ë°ì´í„° ë¡œë”© ë¬¸ì œ:**
- mock ë°ì´í„° í•¨ìˆ˜ í˜¸ì¶œ ê²°ê³¼ í™•ì¸
- ìƒíƒœê´€ë¦¬ ì•¡ì…˜ dispatch ê²°ê³¼ ê²€ì¦
- initialData ì§ë ¬í™” ê°€ëŠ¥ì„± í™•ì¸

**SSG ë¹Œë“œ ë¬¸ì œ:**
- íŒŒì¼ ê²½ë¡œ ì ˆëŒ€/ìƒëŒ€ ê²½ë¡œ í™•ì¸
- import êµ¬ë¬¸ ë™ì  ë¡œë“œ ë¬¸ë²• í™•ì¸
- ë””ë ‰í† ë¦¬ ê¶Œí•œ ë° ì¡´ì¬ ì—¬ë¶€ í™•ì¸

### ğŸ“‹ ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸

**1ë‹¨ê³„ í…ŒìŠ¤íŠ¸:**
```bash
pnpm run dev:ssr
# http://localhost:5173 ì ‘ì†í•˜ì—¬ SSR ë™ì‘ í™•ì¸
```

**2ë‹¨ê³„ í…ŒìŠ¤íŠ¸:**
```bash
# ë¸Œë¼ìš°ì €ì—ì„œ í˜ì´ì§€ ì†ŒìŠ¤ ë³´ê¸°ë¡œ ì„œë²„ ë Œë”ë§ í™•ì¸
# Network íƒ­ì—ì„œ ì´ˆê¸° ë°ì´í„° í™•ì¸
```

**3ë‹¨ê³„ í…ŒìŠ¤íŠ¸:**
```bash
pnpm run build
# dist ë””ë ‰í† ë¦¬ì— ìƒì„±ëœ HTML íŒŒì¼ë“¤ í™•ì¸
```

**í†µí•© í…ŒìŠ¤íŠ¸:**
```bash
pnpm run preview:ssr
pnpm run preview:ssg
# ë‘ ë°©ì‹ ëª¨ë‘ ë™ì¼í•œ ê²°ê³¼ ì¶œë ¥ í™•ì¸
```

## ğŸ¯ í•™ìŠµ ëª©í‘œ

1. **SSRì˜ ë™ì‘ ì›ë¦¬**: ì„œë²„ì—ì„œ HTMLì„ ë Œë”ë§í•˜ì—¬ ì´ˆê¸° ë¡œë”© ì„±ëŠ¥ ê°œì„ 
2. **SSGì˜ í™œìš©ë²•**: ë¹Œë“œ íƒ€ì„ì— ì •ì  HTML ìƒì„±ìœ¼ë¡œ ìµœê³ ì˜ ì„±ëŠ¥ ë‹¬ì„±
3. **ìœ ë‹ˆë²„ì„¤ JavaScript**: ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë™ì¼í•œ ì½”ë“œ ì‹¤í–‰
4. **Hydration ê°œë…**: ì„œë²„ ë Œë”ë§ëœ HTMLì„ í´ë¼ì´ì–¸íŠ¸ì—ì„œ í™œì„±í™”
5. **ë¼ìš°íŒ… ì‹œìŠ¤í…œ**: ì„œë²„ì‚¬ì´ë“œì—ì„œì˜ ë¼ìš°íŒ… ì²˜ë¦¬ ë°©ë²•

## ğŸ“š ì°¸ê³ ì‚¬í•­

- Vite SSR ê°€ì´ë“œ: https://vitejs.dev/guide/ssr.html
- Express.js ê³µì‹ ë¬¸ì„œ: https://expressjs.com/
- Node.js File System API: https://nodejs.org/api/fs.html
